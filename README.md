# 大二上计算机图形学 CS_Final_Project

## 前言

A study record of computer graphics in the first semester of sophomore year. 

说实话,这学期的图形学学的确实很烂很烂,但是还是记录一下吧,拿来警醒自己不要再摆烂了.

这里只会记录一些大体框架,更多更加细节的东西请去直接去看项目内细节

OK, let's start.

------

## Lab 01 计算机图形学实验1:图形API基本操作

本实验我们基于Win32用C++编写Windows桌面程序，学习创建和显示窗口。

实验步骤

+ 创建VisualStudio项目 
+ 注册窗口类 
+ 窗口消息 
+ 编写窗口过程 
+ 运行代码 
+ 练习：简易画笔 
+ 参考文档

实验效果

+ 产生一个窗口

------

## Lab 02 计算机图形学实验2:直线绘制算法

本实验我们用 C++ 来实现画直线算法，分别实现数值微分算法 (DDA) 以及 Bresenham 算法。在本实验中，只需完成 DDADrawLine 函数以及 BresenhamDrawLine 函数，其他部分不需要改动

实验步骤

+ 实现数值微分法 (DDA) 直线算法

  + 打开 line.cpp 文件，完成 DDADrawLine 函数，如图1。函数的传入参数包括直线起点 beginPoint 以及直线终点 endPoint。需要实现 DDA 画线算法，然后将计算出的点存入 result 中。

+ 实现 Bresenham 直线算法

  + 打开 line.cpp 文件，完成 BresenhamDrawLine 函数，如图2。函数的传入参数包括直线起点 beginPoint以及直线终点 endPoint。需要实现 BresenhamDrawLine 画线算法，然后将计算出的点存入 result 中。

实验效果

+ 我们可以使用窗口左上角的按钮切换实现的算法，然后检查实现结果。假如算法实现正确，按下鼠标左键拖动鼠标即可画出对应的直线。

------

## Lab 03 计算机图形学实验3：圆绘制算法

本实验我们用 C++ 来实现 Bresenham 画圆算法。

实验步骤

+ 实现 Bresenham 画圆算法
	+ 打开 Circle.cpp 文件，完成 DrawCircle 函数，如图1。函数的传入参数包括圆的圆心和半径。需要在 DrawCircle 函数中实现 Bresenham 画圆算法，然后将计算出的点存入 points 中。

实验效果

+ 当实现正确时，按下鼠标左键拖动鼠标就能画出对应的圆

------

## Lab 04 计算机图形学实验4：几何变换与裁剪算法

本实验我们完成几何变换和多边形裁剪两部分的内容。

实验步骤

+ 几何变换——完成计算变换矩阵的函数
  + 打开 Transformations.cpp 文件，里面有三个函数，如图 1 分别是 Translate、Rotate 和 Scale 函数，分别就对应了平移变换、旋转变换以及缩放变换。
  + 对于 Translate 函数，输入 translateX 是在 x 轴上的位移，输入 translateY 是在 y 轴上的位移。
  + 对于 Rotate 函数，输入 angle 是旋转的角度。
  + 对于 Scale 函数，输入 scaleX 是在 x 轴上的缩放，输入 scaleY 是在 y 轴上的缩放。需要你修改变换矩阵，以达到平移变换、旋转变换以及缩放变换的目的。
+ 多边形裁剪——完成 Cohen-Sutherland 裁剪算法
  + 打开 Clipping.cpp 文件，里面有 CohenSutherland 函数，需要你在这个函数里面实现 Cohen-Sutherland裁剪算法。
  + 输入：clippingWindow 是代表当前裁剪窗口的四个角。如图 4，黑框就代表着裁剪窗口，左上角对应 clip-pingWindow[0]，左下角对应clippingWindow[1]，右下角对应 clippingWindow[2]，右上角对应 clipping-Window[3]。
  + 输入：line 是当前执行 Cohen-Sutherland 裁剪算法的直线。
  + 输出：根据 Cohen-Sutherland 裁剪算法，假如这个直线需要舍弃，那么返回 false；如果这个直线部分可见或者全部可见，则返回 true，并且根据算法修改 line 的值（例如，对于与裁剪框部分相交的直线，需要找到交点，然后将 line 的一个点改为交点，另一个点是在裁剪框的内的点）

实验效果

+ 几何变换——完成计算变换矩阵的函数
  + 当实现正确时，按下如下按键就可以实现对应的效果
    + 按下 w、s、a、d 键，物体分别向上、下、左、右、移动。
    + 按下 q 键，物体进行旋转。
    + 按下 e 键，物体进行缩放。
+ 多边形裁剪——完成 Cohen-Sutherland 裁剪算法
  + 当实现正确时，超出裁剪框的部分将不会显示。


------

## Lab 05 贝塞尔曲线

本实验我们实现画贝塞尔曲线。

实验内容

+ 完成计算贝塞尔曲线的函数
  + 打开 Bezier.cpp 文件，里面有 Bezier 函数，如图 1。输入是 anchorPoints，是排好序的锚点，请返回输入锚点形成的贝塞尔曲线。

实验效果

+ 当实现正确时，按下 1 键，进入增加锚点模式，这时候按下鼠标左键就可以增加新的锚点；按下 2 键，进入移动锚点模式，这时候可以将鼠标移动到需要调整的锚点上，然后按下鼠标左键可以对锚点进行拖动。

------

## Lab 06 计算机图形学实验6：Phong光照模型

本实验我们实现 Blinn-Phong 光照模型的 Fragment Shader。

实验内容

+ Fragment Shader
  + 打开资源文件下的 light.fs，如图1，需要在这里完成 main 函数，实现 Blinn-Phong 光照模型。其中的全局变量含义如表1。由于 OpenGL 的 shader 语言使用的是 GLSL，大家可以参考（GLSL）详解-基础语法来学习可能用到的数学 API。 

| 变量名         | 含义                       |
| -------------- | -------------------------- |
| FragColor      | 最后计算出的 fragment 颜色 |
| fragmentPos    | 这个 fragment 的空间位置   |
| fragmentNormal | 这个 fragment 的法线       |
| lightPos       | 光源的空间位置             |
| viewPos        | 眼睛（摄像机）的空间位置   |
| lightColor     | 光源的颜色                 |
| objectColor    | 物体本身的颜色             |

实验效果

+ 当实现光照模型之后，可以使用 WSAD 键移动摄像机位置，然后检查实现效果。

  其中的白色 cube 表示光源

------

## Project 01 第一次实践大作业 自制一个绘图板

自制一个画图板。

基本要求：

利用所学二维图元绘制的知识，编程实现一个能够画直线、圆、矩形等基本图元的小程序。编程语言不限，可以用MFC、C#、Python、Java等；方法不限， 可以自己写直线和圆等算法，也可以调用相关图元绘制函数。有能力的同学可以自己扩展功能，包括实现鼠标拖动画线、颜色、粗细的改变、基本的动画等。提交时间**10月21日**前。

------

## Project 02 第二次 实践大作业

要求：（1）从下面两道题中任选一个题目作为项目任务，提交技术文档和程序代码。（2）最好独立完成项目，如要组队，每组成员最多2名，而且技术报告围绕各自的工作内容分开撰写。



1、 N-patches方法可以对三角片表示的离散曲面生成高质量曲面，经过离散曲面的所有顶点。如果离散曲面是四边形面片表示的，我们有两种方法把它生成经过所有顶点的高质量曲面，一是四边形剖分成三角片，而后使用N-patches方法；二是直接利用四边形生成双三次Bezier曲面，确保顶点处光滑拼接。第二种思路的问题描述，已知四个顶点V1, V2, V3和V4，以及每个顶点的法向量N1, N2, N3和N4，利用这些条件设计双三次Bezier曲面，使其经过每个顶点，同时和相邻四边形生成的Bezier曲面在共同的顶点处光滑拼接，试给出这个问题的一种方法。编程实现方法一和你的方法，绘制若干实例，比较两种方法。


2、结合OpenGL、DirectX或者某一图形引擎实现一个复杂的三维物体或虚拟场景的绘制，要有必要的漫游和交互。最好能用到1-2种图形算法技术，有一定的逼真度。

提交截止时间：2023年1月15日。
